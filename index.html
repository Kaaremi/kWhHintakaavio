const now = new Date();
const nextHour = new Date(now);
nextHour.setMinutes(0, 0, 0);
nextHour.setHours(now.getHours() + 1);

data.prices.forEach(entry => {
  const entryDate = new Date(entry.startDate);
  const entryLocalDate = entryDate.toLocaleDateString("fi-FI", { timeZone: "Europe/Helsinki" });
  const entryLocalTime = new Date(entry.startDate).toLocaleTimeString("fi-FI", {
    hour: "2-digit",
    minute: "2-digit",
    timeZone: "Europe/Helsinki"
  });

  // Only include entries from the next hour onward
  if (entryDate >= nextHour) {
    const price = entry.price;
    labels.push(entryLocalTime);
    values.push(price.toFixed(2));

    if (price < 5) {
      colors.push("green");
    } else if (price <= 10) {
      colors.push("yellow");
    } else {
      colors.push("red");
    }
  }
});
